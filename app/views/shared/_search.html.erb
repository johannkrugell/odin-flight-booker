<!-- shared/_search.html.erb -->

<%# Flight Search form %>
<%= form_with url: flights_path, method: :get, local: true do |form| %>
<h2 class="font-montserrat text-orange-900 font-semibold text-center bg-gray-100 lg:ml-2 bg-transparent text-transparent">Search Flights:</h2>
  <div class="rounded-md ml-2 bg-gray-100 p-3">
    <div class="mb-3 grid grid-cols-7 items-center">
      <svg class="ml-3 fill-orange-900 col-span-1" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512">
        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.-->
          <path d="M381 114.9 186.1 41.8c-16.7-6.2-35.2-5.3-51.1 2.7L89.1 67.4C78 73 77.2 88.5 87.6 95.2l146.9 94.5L136 240l-58.2-25.9c-8.7-3.9-18.8-3.7-27.3.6l-32.2 16.1c-9.3 4.7-11.8 16.8-5 24.7l73.1 85.3c6.1 7.1 15 11.2 24.3 11.2h137.7c5 0 9.9-1.2 14.3-3.4l272.9-136.4c46.5-23.3 82.5-63.3 100.8-112C645.9 75 627.2 48 600.2 48h-57.4c-20.2 0-40.2 4.8-58.2 14L381 114.9zM0 480c0 17.7 14.3 32 32 32h576c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32z"/>
        </svg>
      <% options = options_from_collection_for_select(airports, :id, :name,@selected_departure_airport_id) %>
      <%= form.select :departure_airport_id, options, { include_blank: "Departure Airport" }, { class: "col-span-6 rounded-md bg-white font-montserrat text-gray-700 py-1 text-sm shadow-lg border-none ring-1 ring-black ring-opacity-5" } %>
    </div>
    
    <div class="mb-3 grid grid-cols-7 items-center">
      <svg class="ml-3 fill-orange-900 col-span-1" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512">
        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.-->
          <path d="M.3 166.9 0 68c0-10.3 9.5-17.9 19.5-15.7l35.6 7.9c10.6 2.3 19.2 9.9 23 20L96 128l127.3 37.6-41.5-145.2C178.9 10.2 186.6 0 197.2 0h40.1c11.6 0 22.2 6.2 27.9 16.3l109 193.8 107.2 31.7c15.9 4.7 30.8 12.5 43.7 22.8l34.4 27.6c24 19.2 18.1 57.3-10.7 68.2-41.2 15.6-86.2 18.1-128.8 7l-298.3-77.6c-11.1-2.9-21.2-8.7-29.3-16.9L9.5 189.4c-5.9-6-9.3-14-9.3-22.5zM32 448h576c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm96-80a32 32 0 1 1 64 0 32 32 0 1 1-64 0zm128-16a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/>
        </svg>        
      <% options = options_from_collection_for_select(airports, :id, :name, @selected_arrival_airport_id) %>
      <%= form.select :arrival_airport_id, options, { include_blank: "Destination Airport" }, { class: "col-span-6 rounded-md bg-white font-montserrat text-gray-700 py-1 text-sm shadow-lg border-none ring-1 ring-black ring-opacity-5" } %>
    </div>
    
    <div class="mb-3 grid grid-cols-7 items-center">
      <svg class="ml-3 fill-orange-900 col-span-1" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.-->
          <path d="M128 0c17.7 0 32 14.3 32 32v32h128V32c0-17.7 14.3-32 32-32s32 14.3 32 32v32h48c26.5 0 48 21.5 48 48v48H0v-48c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32zM0 192h448v272c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16z"/>
        </svg>
        
      <%= form.select :start_datetime, @available_dates.map { |date| [date.strftime('%B %d, %Y'), date] }, { selected: @selected_start_datetime, prompt: 'Select a date'}, { class: "col-span-6 rounded-md bg-white font-montserrat text-gray-700 py-1 text-sm shadow-lg border-none ring-1 ring-black ring-opacity-5" }  %>        
    </div>

    <div class="mb-3 grid grid-cols-7 items-center">
      <svg class="ml-3 fill-orange-900 col-span-1" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
        <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc.-->
          <path d="M256 288a144 144 0 1 0 0-288 144 144 0 1 0 0 288zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7h450.6c17 0 30.7-13.8 30.7-30.7 0-89.1-72.2-161.3-161.3-161.3H161.3z"/>
        </svg>
        
      <%= form.select :passengers, (1..10).to_a, { selected: @selected_passengers, prompt: "Select number" }, { class: "col-span-6 rounded-md bg-white font-montserrat text-gray-700 py-1 text-sm shadow-lg border-none ring-1 ring-black ring-opacity-5" }  %>
      <%= form.hidden_field :passengers_number, value: params[:passengers] %>      
    </div>
    
     <div class="max-w-sm bg-orange-900 text-center text-white rounded-md lg:max-w-lg">
      <%= form.submit "Search", class: "p-2" %>
    </div>

  </div>
<% end %>


